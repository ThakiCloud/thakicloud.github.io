---
title: "دليل شامل لـ ByteDance Dolphin: تحليل الوثائق المتقدم باستخدام تقنية التوجيه المتنوع"
excerpt: "تعلم كيفية استخدام ByteDance Dolphin، نموذج متطور متعدد الوسائط لتحليل الوثائق يجمع بين تحليل التخطيط والتحليل المخصص للعناصر من خلال تقنيات التوجيه المتنوع المبتكرة."
seo_title: "دليل ByteDance Dolphin: تحليل صور الوثائق - Thaki Cloud"
seo_description: "دليل شامل لنموذج ByteDance Dolphin لتحليل الوثائق. تعلم التثبيت والاستخدام والتنفيذ لتحليل مستوى الصفحة والعنصر مع أمثلة عملية."
date: 2025-09-24
categories:
  - tutorials
tags:
  - تحليل-الوثائق
  - التعرف-البصري-النصوص
  - الذكاء-الاصطناعي-متعدد-الوسائط
  - معالجة-PDF
  - تحليل-التخطيط
  - الرؤية-الحاسوبية
author_profile: true
toc: true
toc_label: "المحتويات"
lang: ar
permalink: /ar/tutorials/bytedance-dolphin-document-parsing-tutorial/
canonical_url: "https://thakicloud.github.io/ar/tutorials/bytedance-dolphin-document-parsing-tutorial/"
---

⏱️ **وقت القراءة المتوقع**: 12 دقيقة

## مقدمة حول ByteDance Dolphin

يمثل ByteDance Dolphin (**Do**cument Image **P**arsing via **H**eterogeneous Anchor Prompt**in**g) اختراقاً مهماً في تقنية تحليل صور الوثائق. هذا النموذج المبتكر متعدد الوسائط يتبع نهج "التحليل ثم التحليل المفصل"، مما يعالج التحديات المعقدة لتحليل عناصر الوثائق المتداخلة مثل فقرات النص والأشكال والمعادلات والجداول.

يُبنى هيكل النموذج حول نهج من مرحلتين يحلل أولاً تخطيط الوثيقة بشكل شامل ثم يحلل العناصر الفردية بشكل متوازي وبكفاءة. تمكن هذه المنهجية Dolphin من تحقيق أداء ملحوظ عبر مهام تحليل الوثائق المتنوعة مع الحفاظ على كفاءة فائقة من خلال هيكلها المعماري خفيف الوزن.

## الميزات الأساسية والابتكارات

### 🔄 نهج التحليل ثم التحليل المفصل من مرحلتين

يكمن الابتكار الأساسي لـ Dolphin في منهجيته المتطورة من مرحلتين:

**المرحلة الأولى: تحليل التخطيط الشامل**
- توليد تسلسل العناصر بترتيب القراءة الطبيعي
- تحديد وتصنيف مكونات الوثيقة
- إنشاء فهم منظم لهيكل الوثيقة الهرمي

**المرحلة الثانية: التحليل المتوازي للعناصر**
- استخدام مراسي متنوعة لأنواع العناصر المختلفة
- توظيف توجيهات مخصصة للمهام للحصول على تحليل مثالي
- معالجة عناصر متعددة بشكل متزامن للكفاءة

### 🧩 تقنية التوجيه المتنوع

يقدم النموذج تقنية التوجيه المتنوع، وهي تقنية جديدة تقوم بـ:
- تكييف استراتيجيات التوجيه بناءً على أنواع العناصر (النص، الجداول، المعادلات)
- تحسين دقة التحليل لمكونات الوثيقة المحددة
- الحفاظ على الاتساق عبر تنسيقات الوثائق المختلفة

### ⚡ معمارية المعالجة المتوازية

توفر آلية التحليل المتوازي لـ Dolphin:
- تحسينات سرعة كبيرة مقارنة بالمعالجة التسلسلية
- قدرات معالجة دفعية قابلة للتوسع
- تقليل العبء الحاسوبي من خلال الاستخدام الفعال للموارد

## التثبيت والإعداد

### المتطلبات الأساسية

قبل تثبيت Dolphin، تأكد من أن نظامك يلبي المتطلبات التالية:

- Python 3.8 أو أحدث
- GPU متوافق مع CUDA (موصى به للأداء الأمثل)
- ذاكرة وصول عشوائي كافية (الحد الأدنى 8GB، 16GB+ موصى به)
- Git و Git LFS لتنزيل النموذج

### دليل التثبيت خطوة بخطوة

**1. استنساخ المستودع**

```bash
git clone https://github.com/ByteDance/Dolphin.git
cd Dolphin
```

**2. تثبيت التبعيات**

```bash
pip install -r requirements.txt
```

**3. تنزيل النماذج المُدربة مسبقاً**

لديك خياران للحصول على النموذج:

**الخيار أ: تنسيق النموذج الأصلي (قائم على التكوين)**

```bash
# التنزيل من Google Drive أو Baidu Yun
# الاستخراج إلى مجلد ./checkpoints/
mkdir -p ./checkpoints
# ضع النماذج المُنزلة في هذا الدليل
```

**الخيار ب: تنسيق نموذج Hugging Face**

```bash
# تثبيت Git LFS إذا لم يكن مثبتاً
git lfs install

# استنساخ مستودع النموذج
git clone https://huggingface.co/ByteDance/Dolphin ./hf_model

# البديل: استخدام Hugging Face CLI
pip install huggingface_hub
huggingface-cli download ByteDance/Dolphin --local-dir ./hf_model
```

### التحقق من التثبيت

اختبر التثبيت بأمر بسيط:

```bash
python demo_page_hf.py --help
```

إذا ظهرت رسالة المساعدة بشكل صحيح، فقد نجح التثبيت.

## فهم تفاصيل تحليل الوثائق

يدعم Dolphin نهجين متميزين للتحليل، كل منهما مصمم لحالات استخدام محددة:

### 📄 تحليل مستوى الصفحة

يعالج تحليل مستوى الصفحة صفحات الوثائق الكاملة ويخرج بيانات منظمة بتنسيقات متعددة:

**تنسيقات الإخراج:**
- **JSON**: بيانات منظمة مع إحداثيات العناصر والمحتوى
- **Markdown**: تنسيق قابل للقراءة يحافظ على هيكل الوثيقة
- **XML**: تمثيل هرمي مع بيانات وصفية مفصلة

**حالات الاستخدام:**
- مشاريع رقمنة الوثائق
- أنظمة إدارة المحتوى
- معالجة الأوراق الأكاديمية
- تحليل الوثائق القانونية

### 🧩 تحليل مستوى العنصر

يركز تحليل مستوى العنصر على مكونات الوثيقة الفردية:

**أنواع العناصر المدعومة:**
- **فقرات النص**: التعرف البصري على النصوص مع الحفاظ على التخطيط
- **الجداول**: التعرف على البنية واستخراج البيانات
- **المعادلات**: تحليل التعبيرات الرياضية
- **الأشكال**: تحليل التسميات والمحتوى

**حالات الاستخدام:**
- استخراج البيانات المستهدف
- سير عمل ضمان الجودة
- معالجة المحتوى المتخصص
- تحليل الوثائق الدقيق

## دليل عملي: تحليل مستوى الصفحة

### تحليل الصفحة الأساسي

لنبدأ بتحليل صورة وثيقة واحدة:

**استخدام إطار عمل Hugging Face:**

```bash
python demo_page_hf.py \
  --model_path ./hf_model \
  --input_path ./demo/page_imgs/page_1.jpeg \
  --save_dir ./results
```

**استخدام الإطار الأصلي:**

```bash
python demo_page.py \
  --config ./config/Dolphin.yaml \
  --input_path ./demo/page_imgs/page_1.jpeg \
  --save_dir ./results
```

### معالجة وثائق PDF

يدعم Dolphin معالجة PDF مباشرة:

```bash
python demo_page_hf.py \
  --model_path ./hf_model \
  --input_path ./demo/page_imgs/document.pdf \
  --save_dir ./results
```

### المعالجة الدفعية لوثائق متعددة

لمعالجة أدلة كاملة:

```bash
python demo_page_hf.py \
  --model_path ./hf_model \
  --input_path ./demo/page_imgs \
  --save_dir ./results \
  --max_batch_size 8
```

### فهم بنية الإخراج

يتضمن الإخراج المحلل عدة ملفات:

```
results/
├── page_1/
│   ├── parsed_result.json      # البيانات المنظمة
│   ├── parsed_result.md        # تنسيق ماركداون
│   ├── layout_analysis.json    # معلومات التخطيط
│   └── element_details/        # العناصر الفردية
│       ├── table_1.html
│       ├── formula_1.latex
│       └── text_1.txt
```

**مثال على إخراج JSON:**

```json
{
  "page_info": {
    "width": 595,
    "height": 842,
    "elements_count": 15
  },
  "elements": [
    {
      "type": "text",
      "bbox": [50, 100, 500, 150],
      "content": "مقدمة في معالجة الوثائق",
      "confidence": 0.98
    },
    {
      "type": "table",
      "bbox": [100, 200, 450, 350],
      "structure": {
        "rows": 3,
        "columns": 4
      },
      "data": [...]
    }
  ]
}
```

## دليل متقدم: تحليل مستوى العنصر

### معالجة الجداول

استخراج البيانات المنظمة من صور الجداول:

```bash
python demo_element_hf.py \
  --model_path ./hf_model \
  --input_path ./demo/element_imgs/table_1.jpeg \
  --element_type table
```

**ميزات إخراج الجداول:**
- استخراج محتوى على مستوى الخلية
- الحفاظ على بنية الصفوف والأعمدة
- توليد تنسيق HTML و CSV
- اكتشاف الخلايا المدمجة

### التعرف على المعادلات

تحليل التعبيرات والمعادلات الرياضية:

```bash
python demo_element_hf.py \
  --model_path ./hf_model \
  --input_path ./demo/element_imgs/formula.jpeg \
  --element_type formula
```

**تنسيقات إخراج المعادلات:**
- تمثيل LaTeX
- تنسيق MathML
- تقريب نص عادي
- التحقق من الصورة المقدمة

### استخراج فقرات النص

معالجة كتل النص مع الحفاظ على التخطيط:

```bash
python demo_element_hf.py \
  --model_path ./hf_model \
  --input_path ./demo/element_imgs/paragraph.jpg \
  --element_type text
```

**ميزات معالجة النص:**
- التعرف على أنماط الخطوط
- الحفاظ على بنية الفقرة
- دعم متعدد اللغات
- الحفاظ على ترتيب القراءة

## استراتيجيات تحسين الأداء

### تحسين حجم الدفعة

اضبط أحجام الدفعات بناءً على قدرات الأجهزة:

```bash
# للـ GPUs عالية الأداء (24GB+ VRAM)
--max_batch_size 16

# للـ GPUs متوسطة الأداء (8-16GB VRAM)
--max_batch_size 8

# للموارد المحدودة (4-8GB VRAM)
--max_batch_size 4
```

### إدارة الذاكرة

مراقبة استخدام الذاكرة أثناء المعالجة:

```bash
# تفعيل التسجيل المفصل
python demo_page_hf.py \
  --model_path ./hf_model \
  --input_path ./documents \
  --save_dir ./results \
  --verbose \
  --max_batch_size 8
```

### استخدام GPU

تحسين استخدام GPU للحصول على أداء أفضل:

```python
import torch

# التحقق من توفر GPU
if torch.cuda.is_available():
    print(f"GPU: {torch.cuda.get_device_name()}")
    print(f"الذاكرة: {torch.cuda.get_device_properties(0).total_memory / 1e9:.1f}GB")
```

## التكامل مع سير العمل الموجود

### تكامل البرنامج النصي Python

إنشاء برامج نصية معالجة مخصصة:

```python
import os
import json
from pathlib import Path

def process_documents(input_dir, output_dir):
    """
    معالجة جميع الوثائق في دليل باستخدام Dolphin
    """
    input_path = Path(input_dir)
    output_path = Path(output_dir)
    
    # التأكد من وجود دليل الإخراج
    output_path.mkdir(parents=True, exist_ok=True)
    
    for doc_file in input_path.glob("*.{pdf,jpg,jpeg,png}"):
        print(f"المعالجة: {doc_file.name}")
        
        # تشغيل معالجة Dolphin
        os.system(f"""
            python demo_page_hf.py \
              --model_path ./hf_model \
              --input_path "{doc_file}" \
              --save_dir "{output_path}"
        """)
        
        print(f"اكتمل: {doc_file.name}")

# الاستخدام
process_documents("./input_docs", "./processed_results")
```

### تطوير غلاف API

إنشاء غلاف API بسيط للتكامل مع الويب:

```python
from flask import Flask, request, jsonify
import subprocess
import json

app = Flask(__name__)

@app.route('/parse_document', methods=['POST'])
def parse_document():
    """
    نقطة نهاية API لتحليل الوثائق
    """
    if 'file' not in request.files:
        return jsonify({'error': 'لم يتم توفير ملف'}), 400
    
    file = request.files['file']
    if file.filename == '':
        return jsonify({'error': 'لم يتم اختيار ملف'}), 400
    
    # حفظ الملف المرفوع
    filepath = f"./temp/{file.filename}"
    file.save(filepath)
    
    # المعالجة مع Dolphin
    result = subprocess.run([
        'python', 'demo_page_hf.py',
        '--model_path', './hf_model',
        '--input_path', filepath,
        '--save_dir', './temp/results'
    ], capture_output=True, text=True)
    
    # إرجاع النتائج
    with open('./temp/results/parsed_result.json', 'r') as f:
        parsed_data = json.load(f)
    
    return jsonify(parsed_data)

if __name__ == '__main__':
    app.run(debug=True)
```

## استكشاف الأخطاء وإصلاحها

### أخطاء الذاكرة

**المشكلة**: أخطاء نفاد الذاكرة أثناء المعالجة

**الحلول:**
1. تقليل حجم الدفعة: `--max_batch_size 2`
2. معالجة صور أصغر: تغيير حجم الصور إلى عرض أقصى 1024px
3. استخدام معالجة CPU: تعيين `CUDA_VISIBLE_DEVICES=""`

### مشاكل تحميل النموذج

**المشكلة**: فشل النماذج في التحميل بشكل صحيح

**الحلول:**
1. التحقق من مسار النموذج: التأكد من وجود دليل `./hf_model`
2. إعادة تنزيل النماذج: حذف وإعادة استنساخ مستودع النموذج
3. فحص التبعيات: `pip install -r requirements.txt --upgrade`

### مشاكل جودة التحليل

**المشكلة**: نتائج تحليل غير دقيقة

**الحلول:**
1. تحسين جودة الصورة: استخدام مسح عالي الدقة (300+ DPI)
2. معالجة مسبقة للصور: ضمان التباين والاتجاه المناسب
3. التحقق من تنسيق الإدخال: استخدام التنسيقات المدعومة (JPEG, PNG, PDF)

### مشاكل الأداء

**المشكلة**: سرعات معالجة بطيئة

**الحلول:**
1. تفعيل تسريع GPU: التأكد من تثبيت CUDA بشكل صحيح
2. تحسين أحجام الدفعات: العثور على الحجم الأمثل للأجهزة
3. استخدام TensorRT: النظر في TensorRT-LLM للنشر الإنتاجي

## الميزات المتقدمة والإضافات

### تسريع TensorRT-LLM

للنشر الإنتاجي، فكر في تكامل TensorRT-LLM:

```bash
# تثبيت TensorRT-LLM (يتطلب GPU NVIDIA)
pip install tensorrt-llm

# تحويل النموذج إلى تنسيق TensorRT
python convert_to_tensorrt.py \
  --model_path ./hf_model \
  --output_path ./tensorrt_model
```

### تكامل vLLM

تسريع الاستنتاج مع vLLM:

```bash
# تثبيت vLLM
pip install vllm

# استخدام backend vLLM
python demo_page_vllm.py \
  --model_path ./hf_model \
  --input_path ./documents \
  --save_dir ./results
```

### معالجة PDF متعدد الصفحات

معالجة الوثائق الكاملة مع صفحات متعددة:

```python
import fitz  # PyMuPDF
from pathlib import Path

def process_multipage_pdf(pdf_path, output_dir):
    """
    معالجة وثائق PDF متعددة الصفحات
    """
    doc = fitz.open(pdf_path)
    
    for page_num in range(len(doc)):
        page = doc.load_page(page_num)
        pix = page.get_pixmap(matrix=fitz.Matrix(2, 2))  # تكبير 2x
        
        # حفظ الصفحة كصورة
        page_image = f"{output_dir}/page_{page_num + 1}.png"
        pix.save(page_image)
        
        # المعالجة مع Dolphin
        os.system(f"""
            python demo_page_hf.py \
              --model_path ./hf_model \
              --input_path "{page_image}" \
              --save_dir "{output_dir}/page_{page_num + 1}"
        """)
```

## أفضل الممارسات والتوصيات

### إعداد الإدخال

1. **جودة الصورة**: استخدام صور عالية الدقة (300+ DPI)
2. **اتساق التنسيق**: تفضيل PDF للوثائق متعددة الصفحات
3. **المعالجة المسبقة**: ضمان الاتجاه والتباين المناسب

### سير عمل المعالجة

1. **البدء صغيراً**: الاختبار مع صفحات مفردة قبل المعالجة الدفعية
2. **مراقبة الموارد**: مراقبة استخدام الذاكرة و GPU
3. **التحقق من النتائج**: مراجعة دقة التحليل دائماً

### النشر الإنتاجي

1. **الحاويات**: استخدام Docker للبيئات المتسقة
2. **التوسع**: تنفيذ التوسع الأفقي للمعالجة عالية الحجم
3. **المراقبة**: إعداد تسجيل ومراقبة الأداء

## مقارنة مع الحلول الأخرى

### Dolphin مقابل OCR التقليدي

| الميزة | Dolphin | OCR التقليدي |
|-------|---------|-------------|
| فهم التخطيط | ✅ متقدم | ❌ محدود |
| التعرف على الجداول | ✅ ممتاز | ⚠️ أساسي |
| تحليل المعادلات | ✅ دعم أصلي | ❌ غير مدعوم |
| متعدد اللغات | ✅ مدمج | ⚠️ خاص باللغة |
| سرعة المعالجة | ✅ متوازي | ❌ تسلسلي |

### Dolphin مقابل نماذج AI أخرى

| الجانب | Dolphin | Nougat | GOT-OCR |
|--------|---------|--------|---------|
| المعمارية | مرحلتان | شامل | مرحلة واحدة |
| أنواع العناصر | جميع الأنواع | أوراق أكاديمية | نص عام |
| التخصيص | عالي | متوسط | منخفض |
| الأداء | ممتاز | جيد | متغير |

## التطورات المستقبلية وخارطة الطريق

### الميزات القادمة

1. **دعم محسن متعدد اللغات**: تغطية لغوية موسعة
2. **المعالجة في الوقت الفعلي**: قدرات تحليل الوثائق المباشرة
3. **تدريب نماذج مخصصة**: خيارات التعديل الدقيق الخاصة بالمجال
4. **تكامل السحابة**: نشر خدمة سحابية سلس

### مساهمات المجتمع

يرحب مشروع Dolphin بمساهمات المجتمع:

1. **تقارير الأخطاء**: إرسال قضايا لتحسينات النموذج
2. **طلبات الميزات**: اقتراح وظائف جديدة
3. **تحسينات الأداء**: مشاركة تحسينات الكفاءة
4. **التوثيق**: المساعدة في تحسين الأدلة والإرشادات

## الخاتمة

يمثل ByteDance Dolphin تقدماً مهماً في تقنية تحليل صور الوثائق. نهجه المبتكر من مرحلتين، مقترناً بتقنية التوجيه المتنوع، يقدم أداءً استثنائياً عبر أنواع الوثائق المتنوعة. قدرات النموذج على المعالجة المتوازية ودعم تحليل مستوى الصفحة والعنصر تجعله أداة لا تقدر بثمن لسير عمل معالجة الوثائق الحديثة.

سواء كنت تعمل على مشاريع رقمنة الوثائق أو أنظمة إدارة المحتوى أو مهام استخراج البيانات المتخصصة، يوفر Dolphin الدقة والكفاءة والمرونة المطلوبة للنشر على نطاق الإنتاج. الدعم الشامل لـ API والتنسيقات المتعددة للإخراج يضمن التكامل السلس مع الأنظمة الموجودة.

مع استمرار تطور مجال الذكاء الاصطناعي للوثائق، تضع معمارية ومنهجيات Dolphin موقعه كحل رائد لتحديات تحليل الوثائق المعقدة. المجتمع التطويري النشط والتحسينات المستمرة تعد بقدرات أكثر قوة في الإصدارات المستقبلية.

### البدء اليوم

هل أنت مستعد لتنفيذ Dolphin في مشاريعك؟ اتبع هذه الخطوات التالية:

1. **التنزيل والتثبيت**: إعداد Dolphin باستخدام دليل التثبيت
2. **الاختبار مع العينات**: معالجة الوثائق النموذجية لفهم القدرات
3. **التكامل التدريجي**: البدء بمشاريع تجريبية قبل النشر الكامل
4. **المراقبة والتحسين**: تحسين سير عمل المعالجة باستمرار
5. **الانضمام للمجتمع**: المساهمة في التطوير المستمر للمشروع

للدعم الإضافي والموارد، قم بزيارة [المستودع الرسمي على GitHub](https://github.com/bytedance/Dolphin) واستكشف الوثائق الشاملة ومناقشات المجتمع.

