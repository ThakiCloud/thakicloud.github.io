---
title: "KAG: دليل شامل لإطار عمل توليد المعرفة المعزز"
excerpt: "استكشف KAG (توليد المعرفة المعزز)، وهو إطار عمل ثوري يجمع بين محرك OpenSPG ونماذج اللغة الكبيرة للاستدلال المنطقي والاستخراج في قواعد المعرفة المهنية المتخصصة."
seo_title: "دروس KAG: دليل إطار عمل توليد المعرفة المعزز - Thaki Cloud"
seo_description: "تعلم ميزات إطار عمل KAG وهيكليته وتثبيته وتنفيذه. دليل شامل لحلول الاستدلال في الرسوم البيانية للمعرفة والأسئلة والأجوبة."
date: 2025-01-28
categories:
  - tutorials
tags:
  - الرسم-البياني-للمعرفة
  - نماذج-اللغة-الكبيرة
  - الاستدلال
  - openspg
  - kag
author_profile: true
toc: true
toc_label: "جدول المحتويات"
lang: ar
permalink: /ar/tutorials/kag-knowledge-augmented-generation-tutorial/
canonical_url: "https://thakicloud.github.io/ar/tutorials/kag-knowledge-augmented-generation-tutorial/"
---

⏱️ **وقت القراءة المتوقع**: 15 دقيقة

## مقدمة عن KAG

يمثل توليد المعرفة المعزز (Knowledge Augmented Generation - KAG) تقدماً مهماً في مجال نماذج اللغة الكبيرة وتمثيل المعرفة. طوّر فريق OpenSPG إطار عمل KAG، وهو إطار عمل للاستدلال والاستخراج الموجه بالأشكال المنطقية يعالج بفعالية قيود نماذج حساب التشابه المتجه في أنظمة RAG (الاستخراج المعزز للتوليد) التقليدية.

على عكس الأساليب التقليدية التي تعتمد أساساً على التشابه الدلالي، يقدم KAG طبقة استدلال منطقي متطورة تمكن من الحصول على استجابات أكثر دقة وذات صلة سياقية في تطبيقات المجال المهني. لقد حظي هذا الإطار باهتمام كبير في مجتمع الذكاء الاصطناعي، حيث حصل على أكثر من 7,700 نجمة على GitHub ويطوره بنشاط فريق مخصص من الباحثين والمهندسين.

## ما الذي يجعل KAG ثورياً؟

### تجاوز قيود RAG التقليدية

غالباً ما تواجه أنظمة RAG التقليدية صعوبات في مهام الاستدلال المعقدة ويمكن أن تنتج نتائج غير متسقة عند التعامل مع المعرفة المهنية المتخصصة. يعالج KAG هذه التحديات من خلال عدة ابتكارات رئيسية:

1. **الاستدلال الموجه بالأشكال المنطقية**: بدلاً من الاعتماد فقط على تشابه المتجهات، يستخدم KAG أشكالاً منطقية لتوجيه عملية الاستدلال، مما يضمن استجابات أكثر دقة واتساقاً.

2. **التمثيل الهرمي للمعرفة**: بناءً على هرمية DIKW (البيانات والمعلومات والمعرفة والحكمة)، يوفر KAG نهجاً منظماً لتنظيم المعرفة يتماشى مع كيفية معالجة وفهم البشر للمعلومات.

3. **محرك الحل المختلط**: يجمع الإطار بين الاستدلال الرمزي والنهج العصبية، مما يخلق نظاماً مختلطاً قوياً يمكنه التعامل مع أنواع متنوعة من الاستعلامات ومهام الاستدلال.

## الهيكلية الأساسية والمكونات

### الأساس التقني

تتكون هيكلية KAG من ثلاثة مكونات أساسية:

#### 1. kg-builder (باني الرسم البياني للمعرفة)

ينفذ مكون kg-builder نظام تمثيل معرفة مصمم خصيصاً ليكون ودوداً مع نماذج اللغة الكبيرة. يوفر هذا المكون عدة قدرات متقدمة:

- **الاستخراج المرن للمخططات**: يدعم الاستخراج المقيد وغير المقيد للمعلومات، مما يسمح للمؤسسات بالعمل مع هياكل البيانات الموجودة بينما تطبق تدريجياً تصاميم مخططات أكثر تطوراً.

- **الفهرسة المتبادلة**: ينشئ علاقات ثنائية الاتجاه بين هياكل الرسوم البيانية وكتل النص الأصلية، مما يمكن الاستخراج الفعال خلال مراحل الاستدلال والإجابة على الأسئلة.

- **تكامل هرمية DIKW**: ينظم المعرفة وفقاً لإطار البيانات-المعلومات-المعرفة-الحكمة، مما يوفر تمييزات واضحة بين مستويات مختلفة من التجريد والفهم.

#### 2. kg-solver (حالل الرسم البياني للمعرفة)

يمثل kg-solver محرك الاستدلال في KAG، وينفذ نهجاً مختلطاً موجهاً بالرموز المنطقية يتضمن ثلاثة أنواع مختلفة من المشغلات:

- **مشغلات التخطيط**: تتعامل مع تحليل المهام وصياغة استراتيجيات الحل
- **مشغلات الاستدلال**: تنفذ الاستنتاج المنطقي والتلاعب الرمزي
- **مشغلات الاستخراج**: تؤدي استخراج المعلومات المستهدفة من قاعدة المعرفة

يمكن هذا النهج المختلط النظام من تحويل مشاكل اللغة الطبيعية إلى عمليات حل مشاكل منظمة تدمج بسلاسة فهم اللغة مع الاستدلال الرمزي.

#### 3. kag-model (مكون مستقبلي)

بينما لم يصبح مفتوح المصدر بالكامل بعد، يمثل مكون kag-model تحسينات نماذج اللغة المتخصصة التي ستعزز قدرات KAG أكثر. أشار فريق التطوير أن هذا المكون سيتم إصداره تدريجياً في الإصدارات المستقبلية.

## الميزات والقدرات الرئيسية

### نماذج الاستدلال المتقدمة

يقدم KAG عدة أنماط استدلال متطورة تميزه عن الأنظمة التقليدية:

1. **تحليل المشاكل بالعرض**: يحلل الاستعلامات المعقدة إلى مشاكل فرعية قابلة للإدارة، مما يسمح بالتحليل المنهجي وتطوير الحلول.

2. **اشتقاق الحلول بالعمق**: يستكشف مسارات الحلول بعمق، مما يضمن التحقيق الشامل للإجابات المحتملة وأسسها المنطقية.

3. **تحديد حدود المعرفة**: يحدد بذكاء حدود المعرفة المتاحة، مما يمنع الهلوسة ويضمن موثوقية الاستجابة.

4. **الاستخراج المقاوم للضوضاء**: يرشح المعلومات غير ذات الصلة بفعالية، مما يحافظ على التركيز على مصادر المعرفة ذات الصلة طوال عملية الاستدلال.

### حل المشاكل متعدد الأنماط

يدعم الإطار أربعة نهج مختلفة لحل المشاكل:

- **الاستخراج النقي**: استخراج المعلومات مباشرة من قاعدة المعرفة
- **استدلال الرسم البياني للمعرفة**: التلاعب الرمزي والاستنتاج المنطقي
- **الاستدلال اللغوي**: فهم وتوليد اللغة الطبيعية
- **الحساب العددي**: الحساب الرياضي والتحليل الكمي

### التحسينات والتحديثات الأخيرة

#### الإصدار 0.8 (يونيو 2025)

يقدم أحدث إصدار عدة تحسينات مهمة:

- **آليات الاستدعاء المحسنة**: تحسين الاستدعاء بناءً على أنواع الفهارس المحددة خلال بناء قاعدة المعرفة
- **تكامل بروتوكول MCP**: احتضان كامل لبروتوكول التحكم في النماذج (MCP)، مما يمكن الاستدلال المدعوم بـ KAG داخل تدفقات عمل الوكلاء
- **تكيف نموذج KAG-Thinker**: تحسين أطر التفكير التكراري متعدد الجولات لتحسين استقرار الاستدلال

#### الإصدار 0.7 (أبريل 2025)

تضمنت التحديثات السابقة:

- **إعادة هيكلة إطار KAG-Solver**: إضافة دعم لأنماط التخطيط الثابتة والتكرارية للمهام
- **أنماط الاستدلال المزدوجة**: تقديم خيارات "الوضع البسيط" و"الاستدلال العميق"
- **الاستدلال المتدفق**: توليد الإخراج في الوقت الفعلي مع رسم الفهارس البيانية التلقائي
- **وضع البناء الخفيف**: تحقيق انخفاض بنسبة 89% في تكاليف رموز بناء المعرفة

## دليل التثبيت والإعداد

### متطلبات النظام

قبل تثبيت KAG، تأكد من أن نظامك يلبي المتطلبات التالية:

**أنظمة التشغيل الموصى بها:**
- macOS: Monterey 12.6 أو أحدث
- Linux: CentOS 7 / Ubuntu 20.04 أو أحدث
- Windows: Windows 10 LTSC 2021 أو أحدث

**البرامج المطلوبة:**
- Docker و Docker Compose
- Python 3.10 أو أحدث
- Git

### الطريقة الأولى: التثبيت القائم على المنتج (للمستخدمين العاديين)

هذا النهج مثالي للمستخدمين الذين يريدون البدء بسرعة في استخدام KAG دون الخوض في تفاصيل التطوير.

#### الخطوة الأولى: تحميل وتشغيل الخدمات

```bash
# تعيين متغير البيئة HOME (مستخدمو Windows فقط)
# set HOME=%USERPROFILE%

# تحميل تكوين docker-compose
curl -sSL https://raw.githubusercontent.com/OpenSPG/openspg/refs/heads/master/dev/release/docker-compose-west.yml -o docker-compose-west.yml

# تشغيل جميع الخدمات
docker compose -f docker-compose-west.yml up -d
```

#### الخطوة الثانية: الوصول إلى واجهة الويب

بمجرد تشغيل الخدمات، انتقل إلى واجهة ويب KAG:

- **الرابط**: http://127.0.0.1:8887
- **اسم المستخدم الافتراضي**: openspg
- **كلمة المرور الافتراضية**: openspg@kag

### الطريقة الثانية: تثبيت التطوير (للمطورين)

يوفر هذا النهج وصولاً كاملاً إلى الكود المصدري وقدرات التطوير لـ KAG.

#### تثبيت macOS/Linux

```bash
# إنشاء وتفعيل بيئة conda
conda create -n kag-demo python=3.10
conda activate kag-demo

# استنساخ المستودع
git clone https://github.com/OpenSPG/KAG.git

# تثبيت KAG في وضع التطوير
cd KAG
pip install -e .
```

#### تثبيت Windows

```bash
# إنشاء وتفعيل البيئة الافتراضية لـ Python
py -m venv kag-demo
kag-demo\Scripts\activate

# استنساخ المستودع
git clone https://github.com/OpenSPG/KAG.git

# تثبيت KAG في وضع التطوير
cd KAG
pip install -e .
```

## أمثلة التنفيذ العملي

### بناء قاعدة المعرفة الأساسية

بعد التثبيت، يمكنك البدء في بناء قاعدة المعرفة باستخدام إطار عمل KAG المرن:

#### المثال الأول: معالجة المستندات

```python
from kag.builder import KnowledgeBuilder

# تهيئة باني المعرفة
builder = KnowledgeBuilder(
    schema_type="flexible",  # يسمح بالاستخراج الحر للمخطط
    extraction_mode="enhanced"
)

# معالجة المستندات
documents = [
    "path/to/your/document1.pdf",
    "path/to/your/document2.txt"
]

# بناء الرسم البياني للمعرفة
knowledge_graph = builder.build_from_documents(documents)
```

#### المثال الثاني: معالجة الاستعلامات

```python
from kag.solver import KnowledgeSolver

# تهيئة الحالل
solver = KnowledgeSolver(
    reasoning_mode="deep",  # استخدام وضع الاستدلال العميق
    retrieval_strategy="hybrid"
)

# معالجة استعلام معقد
query = "ما هي العوامل الرئيسية التي تؤثر على أداء السوق في الربع الرابع من 2024؟"
response = solver.solve(query, knowledge_graph)

print(f"الإجابة: {response.answer}")
print(f"مسار الاستدلال: {response.reasoning_steps}")
print(f"المصادر: {response.source_references}")
```

### خيارات التكوين المتقدمة

يوفر KAG خيارات تكوين واسعة لحالات الاستخدام المختلفة:

#### تعريف المخطط المخصص

```python
# تعريف أنواع الكيانات والعلاقات المخصصة
schema_config = {
    "entities": {
        "Company": ["name", "industry", "location"],
        "Person": ["name", "role", "company"],
        "Product": ["name", "category", "price"]
    },
    "relationships": {
        "works_at": {"source": "Person", "target": "Company"},
        "produces": {"source": "Company", "target": "Product"}
    }
}

builder = KnowledgeBuilder(schema=schema_config)
```

## معايير الأداء والمقارنات

### نتائج الحالة الفنية المتقدمة

أظهر KAG أداءً متفوقاً مقارنة بطرق RAG التقليدية عبر معايير مختلفة:

1. **الدقة الواقعية**: تحسن بنسبة 15-20% في مهام التحقق من الحقائق
2. **اتساق الاستدلال**: انخفاض بنسبة 25% في الاستجابات المتناقضة
3. **الخبرة المجالية**: أداء أفضل بنسبة 30% في المجالات المتخصصة
4. **كفاءة الرموز**: انخفاض بنسبة 89% في تكاليف البناء مع الوضع الخفيف

### مقارنة مع النهج التقليدية

| المقياس | RAG التقليدي | GraphRAG | KAG |
|---------|--------------|----------|-----|
| الاتساق المنطقي | 65% | 75% | 90% |
| الاستدلال متعدد القفزات | 70% | 80% | 92% |
| التكيف المجالي | 60% | 70% | 88% |
| موثوقية الاستجابة | 75% | 82% | 94% |

## أفضل الممارسات ونصائح التحسين

### تصميم قاعدة المعرفة

1. **ابدأ بالكيانات الأساسية**: حدد أهم أنواع الكيانات في مجالك قبل التوسع إلى العلاقات والخصائص.

2. **تطوير المخطط التكراري**: ابدأ بمخطط مرن وأضف القيود تدريجياً مع فهم أفضل لبياناتك.

3. **الجودة أولى من الكمية**: ركز على المستندات عالية الجودة والمنظمة جيداً بدلاً من معالجة كميات كبيرة من النصوص غير المعالجة.

### تحسين الاستعلامات

1. **استخدم استعلامات محددة**: الأسئلة المحددة تميل إلى إنتاج نتائج أفضل من الاستفسارات العامة الواسعة.

2. **استفد من السياق**: قدم السياق ذا الصلة عند طرح أسئلة متابعة للحفاظ على محادثات متماسكة.

3. **راقب مسارات الاستدلال**: راجع خطوات الاستدلال المقدمة من KAG لفهم كيف يتم الوصول إلى الاستنتاجات وتحديد التحسينات المحتملة.

## التكامل مع الأنظمة الموجودة

### تكامل API

يوفر KAG واجهات برمجة تطبيقات RESTful للتكامل السلس مع التطبيقات الموجودة:

```python
import requests

# مثال على استدعاء API
response = requests.post(
    "http://localhost:8887/api/v1/query",
    json={
        "query": "حلل أحدث اتجاهات السوق",
        "mode": "deep_reasoning",
        "context": "financial_analysis"
    },
    headers={"Authorization": "Bearer your_api_token"}
)

result = response.json()
```

### النشر المؤسسي

للبيئات الإنتاجية، فكر في:

1. **القابلية للتوسع**: استخدم منصات تنظيم الحاويات مثل Kubernetes للنشر متعدد المثيلات
2. **الأمان**: نفذ آليات المصادقة والتفويض المناسبة
3. **المراقبة**: أعد السجلات والمراقبة الشاملة لتتبع الأداء
4. **النسخ الاحتياطي**: ضع إجراءات نسخ احتياطي منتظمة لقواعد المعرفة والتكوينات

## حل المشاكل الشائعة

### مشاكل التثبيت

**فشل Docker Compose في البدء:**
- تحقق من أن Docker يعمل وله موارد كافية مخصصة
- افحص تضارب المنافذ على 8887
- تأكد من وجود مساحة قرص كافية لصور الحاويات

**مشاكل تبعيات Python:**
- استخدم البيئات الافتراضية لتجنب التضارب
- تحقق من توافق إصدار Python (3.10+)
- فكر في استخدام conda لإدارة التبعيات المعقدة

### مشاكل الأداء

**معالجة الاستعلامات البطيئة:**
- راجع حجم وتعقيد قاعدة المعرفة
- فكر في استخدام وضع البناء الخفيف للمجموعات الكبيرة
- حسن خصوصية الاستعلام والسياق

**استخدام الذاكرة:**
- راقب موارد النظام أثناء التشغيل
- اضبط حدود ذاكرة Docker عند الضرورة
- فكر في النشر الموزع للتطبيقات الكبيرة

## التطويرات المستقبلية وخارطة الطريق

يواصل فريق تطوير KAG تحسين الإطار مع التحسينات المخططة بما في ذلك:

1. **دعم متعدد الأنماط محسن**: تكامل أفضل للنص والصور والبيانات المنظمة
2. **تحسينات النماذج المتقدمة**: إصدار مكون kag-model مع تحسينات LLM المتخصصة
3. **دعم لغوي موسع**: قدرات متعددة اللغات أوسع واستدلال عبر اللغات
4. **قابلية توسع محسنة**: دعم أفضل للنشر على نطاق المؤسسة والمعالجة الموزعة

## الخلاصة

يمثل KAG خطوة مهمة إلى الأمام في تقنية توليد المعرفة المعزز، ويوفر إطار عمل قوي لبناء الأنظمة الذكية التي يمكنها الاستدلال بفعالية مع المعرفة المهنية المتخصصة. مزيجه من الاستدلال المنطقي وتمثيل المعرفة المرن ونهج حل المشاكل المختلط يجعله خياراً ممتازاً للمؤسسات التي تسعى لتنفيذ قدرات الذكاء الاصطناعي المتقدمة.

إن مجتمع التطوير النشط للإطار والوثائق الشاملة والأداء المثبت في اختبارات المعايير يظهر نضجه وجاهزيته للاستخدام الإنتاجي. سواء كنت تبني نظام أسئلة وأجوبة خاص بمجال معين، أو تنفذ تحليل المستندات الذكي، أو تطور تطبيقات الاستدلال المتقدمة، فإن KAG يوفر الأدوات والمرونة اللازمة لتحقيق أهدافك.

من خلال اتباع هذا الدليل واستكشاف القدرات الواسعة لـ KAG، ستكون مجهزاً جيداً لاستفادة من هذا الإطار القوي لحالات الاستخدام المحددة الخاصة بك والمساهمة في النظام البيئي المتنامي لتطبيقات الذكاء الاصطناعي المعززة بالمعرفة.

## موارد إضافية

- **المستودع الرسمي**: [https://github.com/OpenSPG/KAG](https://github.com/OpenSPG/KAG)
- **الوثائق**: [https://openspg.github.io/](https://openspg.github.io/)
- **مجتمع Discord**: انضم إلى مجتمع Discord الرسمي للدعم والمناقشات
- **الأوراق البحثية**: "KAG: Boosting LLMs in Professional Domains via Knowledge Augmented Generation"

للحصول على آخر التحديثات ومناقشات المجتمع، تأكد من إضافة نجمة للمستودع ومتابعة تطوير المشروع على GitHub.
