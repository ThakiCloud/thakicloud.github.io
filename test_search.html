<!DOCTYPE html>
<html>
<head>
    <title>Search Test</title>
    <style>
        body { font-family: Arial, sans-serif; margin: 40px; }
        input[type="search"] { padding: 10px; font-size: 16px; width: 300px; }
        .results { margin-top: 20px; }
        .result-item { 
            border: 1px solid #ddd; 
            padding: 15px; 
            margin: 10px 0; 
            border-radius: 5px; 
        }
        .result-title { font-weight: bold; color: #0066cc; }
        .result-excerpt { color: #666; margin-top: 5px; }
    </style>
</head>
<body>
    <h1>검색 기능 테스트</h1>
    <input type="search" id="search" placeholder="검색어를 입력하세요..." />
    <div id="results" class="results"></div>
    
    <script src="assets/js/simple-jekyll-search.min.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            console.log('페이지 로드됨');
            
            var sjs = SimpleJekyllSearch({
                searchInput: document.getElementById('search'),
                resultsContainer: document.getElementById('results'),
                json: '/search.json',
                searchResultTemplate: '<div class="result-item"><div class="result-title"><a href="{url}">{title}</a></div><div class="result-excerpt">{excerpt}</div><div>Date: {date} | Categories: {categories}</div></div>',
                noResultsText: '<div class="result-item">검색 결과가 없습니다.</div>',
                limit: 20,
                fuzzy: false,
                exclude: ['url']
            });
            
            console.log('Simple Jekyll Search 초기화됨');
            
            // 검색 입력 감지
            document.getElementById('search').addEventListener('input', function(e) {
                var query = e.target.value;
                console.log('검색어:', query, '(길이:', query.length + ')');
                
                setTimeout(function() {
                    var results = document.querySelectorAll('#results .result-item');
                    console.log('검색 결과 개수:', results.length);
                }, 100);
            });
            
            // JSON 데이터 로드 테스트
            fetch('/search.json')
                .then(response => response.json())
                .then(data => {
                    console.log('JSON 데이터 로드됨. 총 포스트 수:', data.length);
                    console.log('첫 번째 포스트:', data[0]);
                })
                .catch(error => {
                    console.error('JSON 로드 오류:', error);
                });
        });
    </script>
</body>
</html> 